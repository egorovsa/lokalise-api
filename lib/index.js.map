{"version":3,"sources":["webpack://LokaliseCo/webpack/universalModuleDefinition","webpack://LokaliseCo/webpack/bootstrap","webpack://LokaliseCo/./src/ts/api/languages.ts","webpack://LokaliseCo/./src/ts/api/projects.ts","webpack://LokaliseCo/./src/ts/api/strings.ts","webpack://LokaliseCo/./src/ts/index.ts","webpack://LokaliseCo/./src/ts/services/request.ts","webpack://LokaliseCo/external \"extract-zip\"","webpack://LokaliseCo/external \"fs\"","webpack://LokaliseCo/external \"https\"","webpack://LokaliseCo/external \"os\"","webpack://LokaliseCo/external \"path\"","webpack://LokaliseCo/external \"request\"","webpack://LokaliseCo/external \"superagent\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LokaliseCo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LokaliseCo\"] = factory();\n\telse\n\t\troot[\"LokaliseCo\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading wasm modules\n \tvar installedWasmModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// object with all compiled WebAssembly.Modules\n \t__webpack_require__.w = {};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/ts/index.ts\");\n","import {DefaultResponse, Request} from \"../services/request\";\n\nexport interface Language {\n\tiso: string\n\tname: string\n\trtl: string\n}\n\nexport interface ProjectLanguage extends Language {\n\twords: string,\n\tis_default: string\n}\n\nexport interface SystemLanguagesResponse {\n\tlanguages: Language[],\n\tresponse: DefaultResponse\n}\n\nexport interface ProjectLanguagesList {\n\tlanguages: ProjectLanguage[],\n\tresponse: DefaultResponse\n}\n\nexport interface AddRemoveLanguagesParams {\n\tid: string,\n\tiso: string[]\n}\n\nexport interface SetLanguagesParams {\n\tid: string\n\toriginal_iso: string\n\tcustom_iso?: string\n\tcustom_name?: string\n}\n\nexport class Languages extends Request {\n\tconstructor(token: string) {\n\t\tsuper(token);\n\t}\n\n\tpublic async listSystemLanguages(): Promise<SystemLanguagesResponse> {\n\t\treturn await this.get<SystemLanguagesResponse, any>('language/listall');\n\t}\n\n\tpublic async list(id: string): Promise<ProjectLanguagesList> {\n\t\treturn await this.get<ProjectLanguagesList, any>('language/list', {\n\t\t\tid: id\n\t\t});\n\t}\n\n\tpublic async add(data: AddRemoveLanguagesParams): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, AddRemoveLanguagesParams>('language/add', data);\n\t}\n\n\tpublic async setProperties(data: SetLanguagesParams): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, SetLanguagesParams>('language/add', data);\n\t}\n\n\tpublic async remove(data: AddRemoveLanguagesParams): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, AddRemoveLanguagesParams>('language/remove', data);\n\t}\n}","import {DefaultResponse, LokaliseResponse, Request} from \"../services/request\";\nimport {FileFormat, PlaceholderFormat, PluralFormat} from \"../index\";\n\nconst extract = require('extract-zip')\nconst os = require('os');\nconst path = require('path');\nconst http = require('https');\nconst fs = require('fs');\n\nexport enum ExportEmpty {\n\tempty = \"empty\",\n\tbase = \"base\",\n\tskip = \"skip\"\n}\n\nexport enum ExportSort {\n\tfirst_added = \"first_added\",\n\tlast_added = \"last_added\",\n\tlast_updated = \"last_updated\",\n\ta_z = \"a_z\",\n\tz_a = \"z_a\"\n}\n\nexport enum JavaPropertiesEncoding {\n\tutf8 = \"utf-8\",\n\tlatin1 = \"latin-1\"\n}\n\nexport interface ProjectsListObject {\n\tid: string\n\tname: string\n\tdesc: string\n\tcreated: string,\n\towner: string\n}\n\nexport interface ProjectsList {\n\tprojects: ProjectsListObject[],\n\tresponse: LokaliseResponse\n}\n\nexport interface AddProjectParams {\n\tname: string,\n\tdescription?: string,\n\tbase_lang?: string\n}\n\nexport interface AddProjectResponse {\n\tproject: {\n\t\tid: number\n\t},\n\tresponse: LokaliseResponse\n}\n\nexport interface ExportProjectParams {\n\tid: number\n\ttype: FileFormat\n\tlangs?: string[]\n\tuse_original?: 0 | 1\n\tfilter?: any\n\tbundle_structure?: string\n\tdirectory_prefix?: string\n\twebhook_url?: string\n\texport_all?: 0 | 1\n\texport_empty?: ExportEmpty\n\tinclude_comments?: 0 | 1\n\tinclude_pids?: string[]\n\tinclude_tags?: string[]\n\texport_sort?: ExportSort\n\treplace_breaks?: 0 | 1\n\tyaml_include_root?: 0 | 1\n\tjson_unescaped_slashes?: 0 | 1\n\tjava_properties_encoding?: JavaPropertiesEncoding\n\tjava_properties_separator?: \"=\" | \":\"\n\tno_language_folders?: 0 | 1\n\ttriggers?: any\n\tplural_format?: PluralFormat\n\ticu_numeric?: 0 | 1\n\tplaceholder_format?: PlaceholderFormat\n}\n\nexport interface ExportResponse {\n\tbundle: {\n\t\tfile: string,\n\t\tfull_file: string\n\t},\n\tresponse: LokaliseResponse\n}\n\nexport interface ImportData {\n\tid: string\n\tfile: any\n\tlang_iso: string\n\treplace?: 0 | 1\n\tconvert_placeholders?: 0 | 1\n\ticu_plurals?: 0 | 1\n\tfill_empty?: 0 | 1\n\tdistinguish?: 0 | 1\n\tuse_trans_mem?: 0 | 1\n\thidden?: 0 | 1\n\ttags?: string[]\n\tfilename?: string\n\treplace_breaks?: 0 | 1\n}\n\nexport interface ProjectImportResponse {\n\tresult: {\n\t\tskipped: number,\n\t\tinserted: number,\n\t\tupdated: number\n\t},\n\tresponse: LokaliseResponse\n}\n\nexport interface UploadScreenshot {\n\tid: string,\n\tscreenshot: string,\n\tautotag: 0 | 1,\n\tkey_ids: string[]\n}\n\nexport class Projects extends Request {\n\tconstructor(token: string) {\n\t\tsuper(token);\n\t}\n\n\tpublic async list(): Promise<ProjectsList> {\n\t\treturn await this.get<ProjectsList, any>('project/list');\n\t}\n\n\tpublic async add(data: AddProjectParams): Promise<AddProjectResponse> {\n\t\treturn await this.post<AddProjectResponse, AddProjectParams>('project/add', data);\n\t}\n\n\tpublic async remove(id: string): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, any>('project/remove', {id: id});\n\t}\n\n\tpublic async import(data: ImportData): Promise<ProjectImportResponse> {\n\t\tdata.file = fs.createReadStream(path.resolve(data.file));\n\n\t\treturn await this.post<ProjectImportResponse, ImportData>('project/import', data);\n\t}\n\n\tpublic async export(data: ExportProjectParams): Promise<ExportResponse> {\n\t\treturn await this.post<ExportResponse, ExportProjectParams>('project/export', data);\n\t}\n\n\tpublic async uploadScreenShot(data: UploadScreenshot): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, UploadScreenshot>('project/screenshot', data);\n\t}\n\n\tpublic async createSnapshot(id: string, title: string): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, any>('project/export', {\n\t\t\tid: id,\n\t\t\ttitle: title\n\t\t});\n\t}\n\n\tpublic async empty(id: string): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, any>('project/export', {\n\t\t\tid: id\n\t\t});\n\t}\n\n\tpublic async exportToPath(filesPath: string, data: ExportProjectParams): Promise<ExportResponse> {\n\t\tlet tmpDir = os.tmpdir();\n\t\tlet exportData: ExportResponse = await this.export(data);\n\n\t\treturn new Promise<ExportResponse>((resolve: Function, reject: Function) => {\n\t\t\tif (exportData.response.code === \"200\") {\n\t\t\t\tconst tempFilePath = path.resolve(tmpDir, data.id + \".zip\");\n\t\t\t\tconst file = fs.createWriteStream(tempFilePath);\n\n\t\t\t\thttp.get(exportData.bundle.full_file, (res: any) => {\n\t\t\t\t\tres.pipe(file);\n\n\t\t\t\t\tres.on('end', () => {\n\t\t\t\t\t\textract(tempFilePath, {dir: path.resolve(filesPath)}, function (err: any) {\n\t\t\t\t\t\t\tresolve(exportData);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Export error: \" + exportData.response.code + \" - \" + exportData.response.message);\n\t\t\t\treject(exportData.response);\n\t\t\t}\n\t\t})\n\t}\n}","import {DefaultResponse, LokaliseResponse, Request} from \"../services/request\";\nimport {PlaceholderFormat, PlatformBitMask, PluralFormat} from \"../index\";\n\nexport interface LocaleKey {\n\tkey: string\n\tplatform_mask: PlatformBitMask\n\tcontext: string\n\ttranslation: string\n\tplural_key: string\n\tis_hidden: string\n\tcreated_at: string\n\ttags?: string[]\n\tmodified_at: string\n\tfuzzy: string\n\tis_archived: string\n}\n\nexport interface LocaleKeyAppend extends LocaleKey {\n\tfilename_web: string,\n\thidden: number,\n\ttranslations: { [locale: string]: string },\n\tplural: string\n}\n\nexport interface StringsList {\n\tstrings: { [lang: string]: LocaleKey[] }\n\tresponse: LokaliseResponse\n}\n\nexport interface StringsListParams {\n\tid: string\n\tlangs?: object[]\n\tplatform_mask?: PlatformBitMask\n\tkeys?: object[]\n\ttags?: object[]\n\tplural_format?: PluralFormat\n\ticu_numeric?: boolean\n\tplaceholder_format?: PlaceholderFormat\n}\n\nexport interface AddKeysParams {\n\tid: number,\n\tdata: LocaleKeyAppend[]\n}\n\nexport interface AddKeysResponse {\n\tresult: {\n\t\tinserted: string,\n\t\tupdated: string\n\t},\n\tresponse: LokaliseResponse\n}\n\nexport interface RemoveKeysParams {\n\tid: number,\n\tkeys: string[]\n}\n\nexport class Strings extends Request {\n\tconstructor(token: string) {\n\t\tsuper(token);\n\t}\n\n\tpublic async list(params: StringsListParams): Promise<StringsList> {\n\t\treturn await this.post<StringsList, StringsListParams>('string/list/', params);\n\t}\n\n\tpublic async add(params: AddKeysParams): Promise<AddKeysResponse> {\n\t\treturn await this.post<AddKeysResponse, AddKeysParams>('string/set', params);\n\t}\n\n\tpublic async remove(params: RemoveKeysParams): Promise<DefaultResponse> {\n\t\treturn await this.post<DefaultResponse, RemoveKeysParams>('string/list/', params);\n\t}\n}","import {Projects} from \"./api/projects\";\nimport {Strings} from \"./api/strings\";\nimport {Languages} from \"./api/languages\";\n\nexport enum PluralFormat {\n\tgeneric = \"generic\",\n\tjson_string = \"json_string\",\n\ticu = \"icu\",\n\tarray = \"array\",\n\ti18next = \"i18next\",\n\tsymfony = \"symfony\",\n}\n\nexport enum PlaceholderFormat {\n\ti18n = \"i18n\",\n\tprintf = \"printf\",\n\tios = \"ios\",\n\ticu = \"icu\",\n\tnet = \"net\",\n\tsymfony = \"symfony\"\n}\n\nexport enum FileFormat {\n\tandroid_sdk = \"android_sdk\",\n\tios_sdk = \"ios_sdk\",\n\txml = \"xml\",\n\tstrings = \"strings\",\n\tcsv = \"csv\",\n\txlsx = \"xlsx\",\n\tpo = \"po\",\n\tproperties = \"properties\",\n\tjson = \"json\",\n\txliff = \"xliff\",\n\tplist = \"plist\",\n\tresx = \"resx\",\n\tjs = \"js\",\n\treact_native = \"react_native\",\n\tsymfony_xliff = \"symfony_xliff\",\n\txlf = \"xlf\",\n\tphp = \"php\",\n\tini = \"ini\",\n\truby_yaml = \"ruby_yaml\",\n\tyaml = \"yaml\",\n\tstf = \"stf\",\n\tts = \"ts\"\n}\n\nexport enum PlatformBitMask {\n\tIOS = 1,\n\tAndroid = 2,\n\tWeb = 4,\n\tOther = 16\n}\n\nexport class LokaliseAPI {\n\tpublic projects: Projects;\n\tpublic strings: Strings;\n\tpublic languages: Languages;\n\n\tconstructor(token: string) {\n\t\tthis.projects = new Projects(token);\n\t\tthis.languages = new Languages(token);\n\t\tthis.strings = new Strings(token);\n\t}\n}\n","import * as superagent from 'superagent';\n\nconst request = require('request');\nconst LOKALISE_API_URL = 'https://api.lokalise.co/api/';\n\nexport interface LokaliseResponse {\n\tstatus: string,\n\tcode: string,\n\tmessage: string\n}\n\nexport interface DefaultResponse {\n\tresponse: LokaliseResponse\n}\n\nexport class Request {\n\tconstructor(readonly token: string) {\n\t}\n\n\tprotected get<T, U>(url: string, data?: U): Promise<T> {\n\t\treturn new Promise<T>((resolve: Function, reject: Function) => {\n\t\t\tsuperagent.get(LOKALISE_API_URL + url)\n\t\t\t\t.query({...{api_token: this.token}, ...data as {}})\n\t\t\t\t.end((err, res) => {\n\t\t\t\t\tif (!err) {\n\t\t\t\t\t\tresolve(res.body);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t});\n\t}\n\n\tprotected post<T, U>(url: string, data?: U): Promise<T> {\n\t\tdata = this.arrayPropsToJson<U>(data);\n\n\t\treturn new Promise<T>((resolve: Function, reject: Function) => {\n\t\t\trequest.post({\n\t\t\t\turl: LOKALISE_API_URL + url,\n\t\t\t\tformData: {...{api_token: this.token}, ...data as {}}\n\t\t\t}, (err: any, res: any, body: any) => {\n\t\t\t\tif (!err) {\n\t\t\t\t\tresolve(JSON.parse(body));\n\t\t\t\t} else {\n\t\t\t\t\treject(res);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprotected arrayPropsToJson<T extends { [key: string]: any }>(data: T): T {\n\t\tfor (let key in data) {\n\t\t\tif (\n\t\t\t\tkey === 'langs' ||\n\t\t\t\tkey === 'filter' ||\n\t\t\t\tkey === 'include_pids' ||\n\t\t\t\tkey === 'include_tags' ||\n\t\t\t\tkey === 'exclude_tags' ||\n\t\t\t\tkey === 'tags' ||\n\t\t\t\tkey === 'key_ids' ||\n\t\t\t\tkey === 'iso' ||\n\t\t\t\tkey === 'keys' ||\n\t\t\t\tkey === 'data'\n\t\t\t) {\n\t\t\t\tdata[key] = JSON.stringify(data[key])\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n}","module.exports = require(\"extract-zip\");","module.exports = require(\"fs\");","module.exports = require(\"https\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"request\");","module.exports = require(\"superagent\");"],"sourceRoot":""}