{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ts/api/languages.ts","webpack:///./src/ts/api/projects.ts","webpack:///./src/ts/api/strings.ts","webpack:///./src/ts/index.ts","webpack:///./src/ts/services/request.ts","webpack:///external \"extract-zip\"","webpack:///external \"fs\"","webpack:///external \"https\"","webpack:///external \"os\"","webpack:///external \"path\"","webpack:///external \"request\"","webpack:///external \"superagent\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading wasm modules\n \tvar installedWasmModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// object with all compiled WebAssembly.Modules\n \t__webpack_require__.w = {};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/ts/index.ts\");\n","import { DefaultResponse, Request } from '../services/request';\n\nexport interface Language {\n    iso: string;\n    name: string;\n    rtl: string;\n}\n\nexport interface ProjectLanguage extends Language {\n    words: string;\n    is_default: string;\n}\n\nexport interface SystemLanguagesResponse {\n    languages: Language[];\n    response: DefaultResponse;\n}\n\nexport interface ProjectLanguagesList {\n    languages: ProjectLanguage[];\n    response: DefaultResponse;\n}\n\nexport interface AddRemoveLanguagesParams {\n    id: string;\n    iso: string[];\n}\n\nexport interface SetLanguagesParams {\n    id: string;\n    original_iso: string;\n    custom_iso?: string;\n    custom_name?: string;\n}\n\nexport class Languages extends Request {\n    constructor(token: string) {\n        super(token);\n    }\n\n    public async listSystemLanguages(): Promise<SystemLanguagesResponse> {\n        return await this.get<SystemLanguagesResponse, Object>('language/listall');\n    }\n\n    public async list(id: string): Promise<ProjectLanguagesList> {\n        return await this.get<ProjectLanguagesList, Object>('language/list', {\n            id: id\n        });\n    }\n\n    public async add(data: AddRemoveLanguagesParams): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, AddRemoveLanguagesParams>('language/add', data);\n    }\n\n    public async setProperties(data: SetLanguagesParams): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, SetLanguagesParams>('language/add', data);\n    }\n\n    public async remove(data: AddRemoveLanguagesParams): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, AddRemoveLanguagesParams>('language/remove', data);\n    }\n}","import { DefaultResponse, LokaliseResponse, Request } from '../services/request';\nimport { FileFormat, PlaceholderFormat, PluralFormat } from '../index';\nimport * as Stream from 'stream';\n\nconst extract = require('extract-zip');\nconst os = require('os');\nconst path = require('path');\nconst http = require('https');\nconst fs = require('fs');\n\nexport enum ExportEmpty {\n    empty = 'empty',\n    base = 'base',\n    skip = 'skip'\n}\n\nexport enum ExportSort {\n    first_added = 'first_added',\n    last_added = 'last_added',\n    last_updated = 'last_updated',\n    a_z = 'a_z',\n    z_a = 'z_a'\n}\n\nexport enum JavaPropertiesEncoding {\n    utf8 = 'utf-8',\n    latin1 = 'latin-1'\n}\n\nexport interface ProjectsListObject {\n    id: string;\n    name: string;\n    desc: string;\n    created: string;\n    owner: string;\n}\n\nexport interface ProjectsList {\n    projects: ProjectsListObject[];\n    response: LokaliseResponse;\n}\n\nexport interface AddProjectParams {\n    name: string;\n    description?: string;\n    base_lang?: string;\n}\n\nexport interface AddProjectResponse {\n    project: {\n        id: number\n    };\n    response: LokaliseResponse;\n}\n\nexport interface ExportProjectParams {\n    id: number;\n    type: FileFormat;\n    langs?: string[];\n    use_original?: 0 | 1;\n    filter?: string[];\n    bundle_structure?: string;\n    directory_prefix?: string;\n    webhook_url?: string;\n    export_all?: 0 | 1;\n    export_empty?: ExportEmpty;\n    include_comments?: 0 | 1;\n    include_pids?: string[];\n    include_tags?: string[];\n    export_sort?: ExportSort;\n    replace_breaks?: 0 | 1;\n    yaml_include_root?: 0 | 1;\n    json_unescaped_slashes?: 0 | 1;\n    java_properties_encoding?: JavaPropertiesEncoding;\n    java_properties_separator?: '=' | ':';\n    no_language_folders?: 0 | 1;\n    triggers?: string[];\n    plural_format?: PluralFormat;\n    icu_numeric?: 0 | 1;\n    placeholder_format?: PlaceholderFormat;\n}\n\nexport interface ExportResponse {\n    bundle: {\n        file: string,\n        full_file: string\n    };\n    response: LokaliseResponse;\n}\n\nexport interface ImportData {\n    id: string;\n    file: FileFormat;\n    lang_iso: string;\n    replace?: 0 | 1;\n    convert_placeholders?: 0 | 1;\n    icu_plurals?: 0 | 1;\n    fill_empty?: 0 | 1;\n    distinguish?: 0 | 1;\n    use_trans_mem?: 0 | 1;\n    hidden?: 0 | 1;\n    tags?: string[];\n    filename?: string;\n    replace_breaks?: 0 | 1;\n}\n\nexport interface ProjectImportResponse {\n    result: {\n        skipped: number;\n        inserted: number;\n        updated: number;\n    };\n    response: LokaliseResponse;\n}\n\nexport interface UploadScreenshot {\n    id: string;\n    screenshot: string;\n    autotag: 0 | 1;\n    key_ids: string[];\n}\n\nexport class Projects extends Request {\n    constructor(token: string) {\n        super(token);\n    }\n\n    public async list(): Promise<ProjectsList> {\n        return await this.get<ProjectsList, Object>('project/list');\n    }\n\n    public async add(data: AddProjectParams): Promise<AddProjectResponse> {\n        return await this.post<AddProjectResponse, AddProjectParams>('project/add', data);\n    }\n\n    public async remove(id: string): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, Object>('project/remove', {id: id});\n    }\n\n    public async import(data: ImportData): Promise<ProjectImportResponse> {\n        data.file = fs.createReadStream(path.resolve(data.file));\n\n        return await this.post<ProjectImportResponse, ImportData>('project/import', data);\n    }\n\n    public async export(data: ExportProjectParams): Promise<ExportResponse> {\n        return await this.post<ExportResponse, ExportProjectParams>('project/export', data);\n    }\n\n    public async uploadScreenShot(data: UploadScreenshot): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, UploadScreenshot>('project/screenshot', data);\n    }\n\n    public async createSnapshot(id: string, title: string): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, Object>('project/export', {\n            id: id,\n            title: title\n        });\n    }\n\n    public async empty(id: string): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, Object>('project/export', {\n            id: id\n        });\n    }\n\n    public async exportToPath(filesPath: string, data: ExportProjectParams): Promise<ExportResponse> {\n        let tmpDir = os.tmpdir();\n        let exportData: ExportResponse = await this.export(data);\n\n        return new Promise<ExportResponse>(\n            (resolve: (data: ExportResponse) => void,\n             reject: (data: LokaliseResponse) => void\n            ) => {\n                if (exportData.response.code === '200') {\n                    const tempFilePath = path.resolve(tmpDir, data.id + '.zip');\n                    const file = fs.createWriteStream(tempFilePath);\n\n                    http.get(exportData.bundle.full_file, (res: Stream) => {\n                        res.pipe(file);\n\n                        res.on('end', () => {\n                            extract(tempFilePath, {dir: path.resolve(filesPath)}, () => {\n                                resolve(exportData);\n                            });\n                        });\n                    });\n                } else {\n                    console.error('Export error: ' + exportData.response.code + ' - ' + exportData.response.message);\n                    reject(exportData.response);\n                }\n            });\n    }\n}","import { DefaultResponse, LokaliseResponse, Request } from '../services/request';\nimport { PlaceholderFormat, PlatformBitMask, PluralFormat } from '../index';\n\nexport interface LocaleKey {\n    key: string;\n    platform_mask: PlatformBitMask;\n    context: string;\n    translation: string;\n    plural_key: string;\n    is_hidden: string;\n    created_at: string;\n    tags?: string[];\n    modified_at: string;\n    fuzzy: string;\n    is_archived: string;\n}\n\nexport interface LocaleKeyAppend extends LocaleKey {\n    filename_web: string;\n    hidden: number;\n    translations: { [locale: string]: string };\n    plural: string;\n}\n\nexport interface StringsList {\n    strings: { [lang: string]: LocaleKey[] };\n    response: LokaliseResponse;\n}\n\nexport interface StringsListParams {\n    id: string;\n    langs?: object[];\n    platform_mask?: PlatformBitMask;\n    keys?: object[];\n    tags?: object[];\n    plural_format?: PluralFormat;\n    icu_numeric?: boolean;\n    placeholder_format?: PlaceholderFormat;\n}\n\nexport interface AddKeysParams {\n    id: number;\n    data: LocaleKeyAppend[];\n}\n\nexport interface AddKeysResponse {\n    result: {\n        inserted: string\n        updated: string\n    };\n    response: LokaliseResponse;\n}\n\nexport interface RemoveKeysParams {\n    id: number;\n    keys: string[];\n}\n\nexport class Strings extends Request {\n    constructor(token: string) {\n        super(token);\n    }\n\n    public async list(params: StringsListParams): Promise<StringsList> {\n        return await this.post<StringsList, StringsListParams>('string/list/', params);\n    }\n\n    public async add(params: AddKeysParams): Promise<AddKeysResponse> {\n        return await this.post<AddKeysResponse, AddKeysParams>('string/set', params);\n    }\n\n    public async remove(params: RemoveKeysParams): Promise<DefaultResponse> {\n        return await this.post<DefaultResponse, RemoveKeysParams>('string/list/', params);\n    }\n}","import { Projects } from './api/projects';\nimport { Strings } from './api/strings';\nimport { Languages } from './api/languages';\n\nexport enum PluralFormat {\n    generic = 'generic',\n    json_string = 'json_string',\n    icu = 'icu',\n    array = 'array',\n    i18next = 'i18next',\n    symfony = 'symfony',\n}\n\nexport enum PlaceholderFormat {\n    i18n = 'i18n',\n    printf = 'printf',\n    ios = 'ios',\n    icu = 'icu',\n    net = 'net',\n    symfony = 'symfony'\n}\n\nexport enum FileFormat {\n    android_sdk = 'android_sdk',\n    ios_sdk = 'ios_sdk',\n    xml = 'xml',\n    strings = 'strings',\n    csv = 'csv',\n    xlsx = 'xlsx',\n    po = 'po',\n    properties = 'properties',\n    json = 'json',\n    xliff = 'xliff',\n    plist = 'plist',\n    resx = 'resx',\n    js = 'js',\n    react_native = 'react_native',\n    symfony_xliff = 'symfony_xliff',\n    xlf = 'xlf',\n    php = 'php',\n    ini = 'ini',\n    ruby_yaml = 'ruby_yaml',\n    yaml = 'yaml',\n    stf = 'stf',\n    ts = 'ts'\n}\n\nexport enum PlatformBitMask {\n    IOS = 1,\n    Android = 2,\n    Web = 4,\n    Other = 16\n}\n\nexport class LokaliseAPI {\n    public projects: Projects;\n    public strings: Strings;\n    public languages: Languages;\n\n    constructor(token: string) {\n        this.projects = new Projects(token);\n        this.languages = new Languages(token);\n        this.strings = new Strings(token);\n    }\n}","import * as superagent from 'superagent';\nimport * as request from 'request';\n\nconst LOKALISE_API_URL = 'https://api.lokalise.co/api/';\n\nexport interface LokaliseResponse {\n    status: string,\n    code: string,\n    message: string,\n}\n\nexport interface DefaultResponse {\n    response: LokaliseResponse,\n}\n\nexport class Request {\n    constructor(readonly token: string) {\n    }\n\n    protected get<T, U>(url: string, data?: U): Promise<T> {\n        return new Promise<T>((resolve: Function, reject: Function) => {\n            superagent.get(LOKALISE_API_URL + url)\n                .query({...{api_token: this.token}, ...data as {}})\n                .end((err, res) => {\n                    if (!err) {\n                        resolve(res.body);\n                    } else {\n                        reject(res);\n                    }\n                });\n        });\n    }\n\n    protected post<T, U>(url: string, data?: U): Promise<T> {\n        data = this.arrayPropsToJson<U>(data);\n\n        return new Promise<T>((resolve: Function, reject: Function) => {\n            request.post({\n                url: LOKALISE_API_URL + url,\n                formData: {...{api_token: this.token}, ...data as {}}\n            }, (err: any, res: any, body: any) => {\n                if (!err) {\n                    resolve(JSON.parse(body));\n                } else {\n                    reject(res);\n                }\n            });\n        });\n    }\n\n    protected arrayPropsToJson<T extends { [key: string]: string }>(data: T): T {\n        for (let key in data) {\n            if (\n                key === 'langs' ||\n                key === 'filter' ||\n                key === 'include_pids' ||\n                key === 'include_tags' ||\n                key === 'exclude_tags' ||\n                key === 'tags' ||\n                key === 'key_ids' ||\n                key === 'iso' ||\n                key === 'keys' ||\n                key === 'data'\n            ) {\n                data[key] = JSON.stringify(data[key]);\n            }\n        }\n\n        return data;\n    }\n}","module.exports = require(\"extract-zip\");","module.exports = require(\"fs\");","module.exports = require(\"https\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"request\");","module.exports = require(\"superagent\");"],"sourceRoot":""}